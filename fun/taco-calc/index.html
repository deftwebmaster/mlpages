<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taco Bell Calorie Maximizer</title>
    <style>
        :root {
            --tb-purple: #702082;
            --tb-purple-dark: #5a1a6a;
            --tb-pink: #d91a5b;
            --bg-dark: #1a1a2e;
            --bg-card: #242442;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --success: #4ade80;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 1rem;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        h1 {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--tb-purple), var(--tb-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.25rem;
        }

        .tagline {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .input-section {
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .input-group {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .dollar-input-wrapper {
            flex: 1;
            position: relative;
        }

        .dollar-sign {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.25rem;
            font-weight: 600;
        }

        input[type="number"] {
            width: 100%;
            padding: 1rem 1rem 1rem 2.25rem;
            font-size: 1.25rem;
            font-weight: 600;
            border: 2px solid transparent;
            border-radius: 0.75rem;
            background: var(--bg-dark);
            color: var(--text-primary);
            transition: border-color 0.2s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--tb-purple);
        }

        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        button {
            padding: 1rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, var(--tb-purple), var(--tb-pink));
            color: white;
            cursor: pointer;
            transition: transform 0.1s, opacity 0.2s;
        }

        button:hover {
            opacity: 0.9;
        }

        button:active {
            transform: scale(0.98);
        }

        .results {
            display: none;
        }

        .results.visible {
            display: block;
        }

        .summary-card {
            background: linear-gradient(135deg, var(--tb-purple), var(--tb-pink));
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .total-calories {
            font-size: 3rem;
            font-weight: 800;
            line-height: 1;
        }

        .total-label {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-top: 0.25rem;
        }

        .stats-row {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.75rem;
            opacity: 0.8;
        }

        .items-card {
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 1rem;
        }

        .items-header {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            padding: 0 0.5rem;
        }

        .item-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            transition: background 0.2s;
        }

        .item-row:hover {
            background: rgba(255,255,255,0.05);
        }

        .item-info {
            flex: 1;
            min-width: 0;
        }

        .item-name {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .item-meta {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.125rem;
        }

        .item-qty {
            background: var(--tb-purple);
            color: white;
            font-weight: 700;
            font-size: 0.875rem;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            margin-left: 0.75rem;
            flex-shrink: 0;
        }

        .section-divider {
            margin: 1.5rem 0;
            text-align: center;
            position: relative;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            height: 1px;
            background: rgba(255,255,255,0.1);
        }

        .section-divider span {
            background: var(--bg-dark);
            padding: 0 1rem;
            position: relative;
            color: var(--text-secondary);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .alt-card {
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .alt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            padding: 0 0.5rem;
        }

        .alt-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--tb-pink);
        }

        .alt-stats {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .alt-stats strong {
            color: var(--text-primary);
        }

        .efficiency-badge {
            display: inline-block;
            font-size: 0.6875rem;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            margin-left: 0.5rem;
        }

        .efficiency-badge.excellent {
            background: rgba(74, 222, 128, 0.15);
            color: var(--success);
        }

        .efficiency-badge.good {
            background: rgba(251, 191, 36, 0.15);
            color: #fbbf24;
        }

        .pro-tip {
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(112, 32, 130, 0.15);
            border-radius: 0.75rem;
            border-left: 3px solid var(--tb-purple);
        }

        .pro-tip p {
            font-size: 0.8125rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .pro-tip strong {
            color: var(--tb-pink);
        }

        .empty-state {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
        }

        footer {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            color: var(--text-secondary);
            font-size: 0.75rem;
        }

        footer a {
            color: var(--tb-pink);
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåÆ Calorie Maximizer</h1>
            <p class="tagline">Get the most calories for your Taco Bell dollar</p>
        </header>

        <div class="input-section">
            <div class="input-group">
                <div class="dollar-input-wrapper">
                    <span class="dollar-sign">$</span>
                    <input type="number" id="budget" placeholder="5.00" min="0.01" step="0.01" value="10">
                </div>
                <button id="optimize-btn">Optimize</button>
            </div>
        </div>

        <div class="results" id="results">
            <div class="summary-card">
                <div class="total-calories" id="total-calories">0</div>
                <div class="total-label">total calories</div>
                <div class="stats-row">
                    <div class="stat">
                        <div class="stat-value" id="total-spent">$0.00</div>
                        <div class="stat-label">spent</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="cal-per-dollar">0</div>
                        <div class="stat-label">cal/$</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="item-count">0</div>
                        <div class="stat-label">items</div>
                    </div>
                </div>
            </div>

            <div class="items-card">
                <div class="items-header">YOUR ORDER</div>
                <div id="items-list"></div>
            </div>

            <div class="section-divider">
                <span>Want more variety?</span>
            </div>

            <div id="alternatives"></div>

            <div class="pro-tip" id="pro-tip">
                <p id="pro-tip-text"></p>
            </div>
        </div>

        <footer>
            Menu data as of Dec 2025. Prices/items vary by location.<br>
            Built by <a href="https://mattlivingston.com" target="_blank">Matt Livingston</a> | Inspired by Amy &amp; Joey
        </footer>
    </div>

    <script>
        // Taco Bell menu data (filtered: no sauce packets, no zero-calorie items)
        const MENU = [
            { name: "3 Cheese Chicken Flatbread Melt", calories: 330, price: 2.39 },
            { name: "Avocado Ranch Crispy Chicken Burrito", calories: 660, price: 6.69 },
            { name: "Avocado Ranch Crispy Chicken Soft Taco", calories: 270, price: 3.49 },
            { name: "Bean Burrito", calories: 360, price: 2.49 },
            { name: "Beefy 5-Layer Burrito", calories: 490, price: 4.99 },
            { name: "Black Bean Chalupa Supreme", calories: 340, price: 5.99 },
            { name: "Black Bean Crunchwrap Supreme", calories: 520, price: 5.99 },
            { name: "Black Bean Grilled Cheese Burrito", calories: 690, price: 5.99 },
            { name: "Burrito Supreme", calories: 390, price: 5.99 },
            { name: "Cantina Chicken Bowl", calories: 530, price: 8.99 },
            { name: "Cantina Chicken Burrito", calories: 590, price: 6.69 },
            { name: "Cantina Chicken Crispy Taco", calories: 330, price: 3.49 },
            { name: "Cantina Chicken Quesadilla", calories: 510, price: 7.19 },
            { name: "Cantina Chicken Soft Taco", calories: 260, price: 3.49 },
            { name: "Chalupa Supreme", calories: 350, price: 5.99 },
            { name: "Cheese Quesadilla", calories: 470, price: 5.89 },
            { name: "Cheesy Bean and Rice Burrito", calories: 420, price: 1.59 },
            { name: "Cheesy Double Beef Burrito", calories: 560, price: 2.79 },
            { name: "Cheesy Fiesta Potatoes", calories: 240, price: 2.79 },
            { name: "Cheesy Gordita Crunch", calories: 490, price: 5.99 },
            { name: "Cheesy Roll Up", calories: 180, price: 1.29 },
            { name: "Chicken Enchilada Burrito", calories: 380, price: 2.59 },
            { name: "Chicken Quesadilla", calories: 520, price: 6.89 },
            { name: "Chips and Guacamole", calories: 250, price: 3.99 },
            { name: "Chips and Nacho Cheese Sauce", calories: 220, price: 2.99 },
            { name: "Cinnamon Twists", calories: 170, price: 1.69 },
            { name: "Classic Stacker", calories: 400, price: 2.19 },
            { name: "Creamy Chipotle Crispy Chicken Burrito", calories: 650, price: 5.99 },
            { name: "Creamy Chipotle Crispy Chicken Soft Taco", calories: 270, price: 3.19 },
            { name: "Crispy Chicken Strips 4pk", calories: 1330, price: 7.49 },
            { name: "Crunchwrap Supreme", calories: 530, price: 6.59 },
            { name: "Crunchy Taco", calories: 170, price: 2.19 },
            { name: "Crunchy Taco Supreme", calories: 190, price: 2.99 },
            { name: "Doritos Cheesy Gordita Crunch", calories: 490, price: 5.99 },
            { name: "Double Stacked Taco", calories: 320, price: 1.99 },
            { name: "Frank's RedHot Diablo Crispy Chicken Burrito", calories: 580, price: 6.69 },
            { name: "Frank's RedHot Diablo Crispy Chicken Soft Taco", calories: 250, price: 3.49 },
            { name: "Frank's RedHot Diablo Chicken Nacho Fries", calories: 450, price: 5.49 },
            { name: "Grilled Cheese Burrito", calories: 710, price: 5.99 },
            { name: "Large Nacho Fries", calories: 470, price: 3.69 },
            { name: "Loaded Beef Nachos", calories: 450, price: 2.99 },
            { name: "Mexican Pizza", calories: 530, price: 6.39 },
            { name: "Nacho Cheese Doritos Locos Tacos", calories: 170, price: 2.99 },
            { name: "Nacho Cheese Doritos Locos Tacos Supreme", calories: 190, price: 3.99 },
            { name: "Nacho Fries", calories: 330, price: 2.89 },
            { name: "Nachos BellGrande", calories: 730, price: 6.99 },
            { name: "Quesarito", calories: 570, price: 5.49 },
            { name: "Slow Roasted Chicken Cheesy Dipping Burritos", calories: 490, price: 5.99 },
            { name: "Soft Taco", calories: 180, price: 2.19 },
            { name: "Soft Taco Supreme", calories: 200, price: 2.99 },
            { name: "Spicy Potato Soft Taco", calories: 240, price: 1.39 },
            { name: "Steak & Poblano Rolled Quesadilla", calories: 530, price: 5.49 },
            { name: "Steak Cheesy Dipping Burritos", calories: 480, price: 5.99 },
            { name: "Steak Garlic Nacho Fries", calories: 490, price: 5.49 },
            { name: "Steak Quesadilla", calories: 520, price: 7.39 },
            { name: "Veggie Bowl", calories: 410, price: 8.69 },
            { name: "Veggie Mexican Pizza", calories: 460, price: 5.99 }
        ];

        /**
         * Unbounded Knapsack using Dynamic Programming
         * Maximizes calories within budget (in cents to avoid floating point issues)
         * 
         * @param {number} budgetCents - Budget in cents
         * @param {Array} items - Menu items with price (dollars) and calories
         * @returns {Object} - { totalCalories, totalCost, items: [{item, quantity}] }
         */
        function optimizeCalories(budgetCents, items) {
            // dp[c] = max calories achievable with exactly c cents
            // parent[c] = index of item used to achieve dp[c]
            const dp = new Array(budgetCents + 1).fill(0);
            const parent = new Array(budgetCents + 1).fill(-1);

            // Convert prices to cents
            const itemsInCents = items.map((item, idx) => ({
                ...item,
                priceCents: Math.round(item.price * 100),
                index: idx
            }));

            // Build DP table
            for (let c = 1; c <= budgetCents; c++) {
                for (const item of itemsInCents) {
                    if (item.priceCents <= c) {
                        const newCals = dp[c - item.priceCents] + item.calories;
                        if (newCals > dp[c]) {
                            dp[c] = newCals;
                            parent[c] = item.index;
                        }
                    }
                }
            }

            // Find best capacity (might not use full budget)
            let bestCents = 0;
            for (let c = 0; c <= budgetCents; c++) {
                if (dp[c] > dp[bestCents]) {
                    bestCents = c;
                }
            }

            // Backtrack to find items
            const counts = new Map();
            let remaining = bestCents;
            while (remaining > 0 && parent[remaining] !== -1) {
                const itemIdx = parent[remaining];
                counts.set(itemIdx, (counts.get(itemIdx) || 0) + 1);
                remaining -= itemsInCents[itemIdx].priceCents;
            }

            // Build result
            const selectedItems = [];
            let totalCost = 0;
            let totalCalories = 0;
            let totalItemCount = 0;

            for (const [idx, qty] of counts) {
                const item = items[idx];
                selectedItems.push({ item, quantity: qty });
                totalCost += item.price * qty;
                totalCalories += item.calories * qty;
                totalItemCount += qty;
            }

            // Sort by quantity (most first)
            selectedItems.sort((a, b) => b.quantity - a.quantity);

            return {
                totalCalories,
                totalCost,
                totalItemCount,
                items: selectedItems,
                calPerDollar: totalCost > 0 ? Math.round(totalCalories / totalCost) : 0
            };
        }

        // Find the single best cal/$ item for comparison
        function getBestSingleItem(items) {
            let best = null;
            let bestRatio = 0;
            for (const item of items) {
                const ratio = item.calories / item.price;
                if (ratio > bestRatio) {
                    bestRatio = ratio;
                    best = item;
                }
            }
            return { item: best, ratio: Math.round(bestRatio) };
        }

        /**
         * Variety-optimized order: greedy by cal/$, but caps each item at maxPerItem
         * This forces diversity in the order
         */
        function optimizeWithVariety(budgetCents, items, maxPerItem = 2) {
            // Sort by cal/$ descending
            const sorted = items
                .map((item, idx) => ({
                    ...item,
                    priceCents: Math.round(item.price * 100),
                    ratio: item.calories / item.price,
                    index: idx
                }))
                .sort((a, b) => b.ratio - a.ratio);

            const counts = new Map();
            let remaining = budgetCents;
            let totalCalories = 0;
            let totalCost = 0;
            let totalItemCount = 0;

            // Greedy fill with variety constraint
            let changed = true;
            while (changed && remaining > 0) {
                changed = false;
                for (const item of sorted) {
                    const currentCount = counts.get(item.index) || 0;
                    if (currentCount < maxPerItem && item.priceCents <= remaining) {
                        counts.set(item.index, currentCount + 1);
                        remaining -= item.priceCents;
                        totalCalories += item.calories;
                        totalCost += item.price;
                        totalItemCount++;
                        changed = true;
                    }
                }
            }

            // Build result
            const selectedItems = [];
            for (const [idx, qty] of counts) {
                selectedItems.push({ item: items[idx], quantity: qty });
            }
            selectedItems.sort((a, b) => b.quantity - a.quantity || 
                (b.item.calories / b.item.price) - (a.item.calories / a.item.price));

            return {
                totalCalories,
                totalCost,
                totalItemCount,
                uniqueItems: counts.size,
                items: selectedItems,
                calPerDollar: totalCost > 0 ? Math.round(totalCalories / totalCost) : 0
            };
        }

        /**
         * "Balanced" order: prioritizes items with good cal/$ but also decent portion
         * Excludes tiny items under 200 cal, caps at 2 each
         */
        function optimizeBalanced(budgetCents, items, maxPerItem = 2) {
            // Filter to "substantial" items (200+ cal) and sort by cal/$
            const substantial = items
                .map((item, idx) => ({
                    ...item,
                    priceCents: Math.round(item.price * 100),
                    ratio: item.calories / item.price,
                    index: idx
                }))
                .filter(item => item.calories >= 200)
                .sort((a, b) => b.ratio - a.ratio);

            const counts = new Map();
            let remaining = budgetCents;
            let totalCalories = 0;
            let totalCost = 0;
            let totalItemCount = 0;

            let changed = true;
            while (changed && remaining > 0) {
                changed = false;
                for (const item of substantial) {
                    const currentCount = counts.get(item.index) || 0;
                    if (currentCount < maxPerItem && item.priceCents <= remaining) {
                        counts.set(item.index, currentCount + 1);
                        remaining -= item.priceCents;
                        totalCalories += item.calories;
                        totalCost += item.price;
                        totalItemCount++;
                        changed = true;
                    }
                }
            }

            const selectedItems = [];
            for (const [idx, qty] of counts) {
                selectedItems.push({ item: items[idx], quantity: qty });
            }
            selectedItems.sort((a, b) => b.quantity - a.quantity || 
                (b.item.calories / b.item.price) - (a.item.calories / a.item.price));

            return {
                totalCalories,
                totalCost,
                totalItemCount,
                uniqueItems: counts.size,
                items: selectedItems,
                calPerDollar: totalCost > 0 ? Math.round(totalCalories / totalCost) : 0
            };
        }

        // DOM elements
        const budgetInput = document.getElementById('budget');
        const optimizeBtn = document.getElementById('optimize-btn');
        const resultsDiv = document.getElementById('results');
        const totalCaloriesEl = document.getElementById('total-calories');
        const totalSpentEl = document.getElementById('total-spent');
        const calPerDollarEl = document.getElementById('cal-per-dollar');
        const itemCountEl = document.getElementById('item-count');
        const itemsListEl = document.getElementById('items-list');
        const alternativesEl = document.getElementById('alternatives');
        const proTipEl = document.getElementById('pro-tip');
        const proTipTextEl = document.getElementById('pro-tip-text');

        function renderItemList(items) {
            return items.map(({ item, quantity }) => `
                <div class="item-row">
                    <div class="item-info">
                        <div class="item-name">${item.name}</div>
                        <div class="item-meta">${item.calories} cal ¬∑ $${item.price.toFixed(2)}</div>
                    </div>
                    <div class="item-qty">√ó${quantity}</div>
                </div>
            `).join('');
        }

        function getEfficiencyBadge(altCalPerDollar, optimalCalPerDollar) {
            const pct = Math.round((altCalPerDollar / optimalCalPerDollar) * 100);
            if (pct >= 95) return `<span class="efficiency-badge excellent">${pct}% efficient</span>`;
            if (pct >= 85) return `<span class="efficiency-badge good">${pct}% efficient</span>`;
            return `<span class="efficiency-badge good">${pct}% efficient</span>`;
        }

        function runOptimizer() {
            const budget = parseFloat(budgetInput.value);
            
            if (isNaN(budget) || budget <= 0) {
                resultsDiv.classList.remove('visible');
                return;
            }

            const budgetCents = Math.round(budget * 100);
            const result = optimizeCalories(budgetCents, MENU);

            if (result.items.length === 0) {
                itemsListEl.innerHTML = '<div class="empty-state">No items fit this budget. Try at least $1.29.</div>';
                totalCaloriesEl.textContent = '0';
                totalSpentEl.textContent = '$0.00';
                calPerDollarEl.textContent = '0';
                itemCountEl.textContent = '0';
                alternativesEl.innerHTML = '';
            } else {
                // Update summary
                totalCaloriesEl.textContent = result.totalCalories.toLocaleString();
                totalSpentEl.textContent = '$' + result.totalCost.toFixed(2);
                calPerDollarEl.textContent = result.calPerDollar.toLocaleString();
                itemCountEl.textContent = result.totalItemCount;

                // Build optimal items list
                itemsListEl.innerHTML = renderItemList(result.items);

                // Generate alternatives
                const varietyOrder = optimizeWithVariety(budgetCents, MENU, 2);
                const balancedOrder = optimizeBalanced(budgetCents, MENU, 2);

                let altHtml = '';

                // Only show variety if it's actually different from optimal
                if (varietyOrder.uniqueItems > 1 && varietyOrder.totalCalories > 0) {
                    altHtml += `
                        <div class="alt-card">
                            <div class="alt-header">
                                <div>
                                    <span class="alt-title">üé® Max Variety</span>
                                    ${getEfficiencyBadge(varietyOrder.calPerDollar, result.calPerDollar)}
                                </div>
                                <div class="alt-stats">
                                    <strong>${varietyOrder.totalCalories.toLocaleString()}</strong> cal ¬∑ 
                                    $${varietyOrder.totalCost.toFixed(2)} ¬∑ 
                                    ${varietyOrder.uniqueItems} different items
                                </div>
                            </div>
                            ${renderItemList(varietyOrder.items)}
                        </div>
                    `;
                }

                // Only show balanced if meaningfully different from variety
                const isDifferent = balancedOrder.items.length !== varietyOrder.items.length ||
                    balancedOrder.items.some((bi, i) => 
                        !varietyOrder.items[i] || 
                        bi.item.name !== varietyOrder.items[i].item.name ||
                        bi.quantity !== varietyOrder.items[i].quantity
                    );

                if (isDifferent && balancedOrder.uniqueItems > 1 && balancedOrder.totalCalories > 0) {
                    altHtml += `
                        <div class="alt-card">
                            <div class="alt-header">
                                <div>
                                    <span class="alt-title">üçΩÔ∏è Bigger Items</span>
                                    ${getEfficiencyBadge(balancedOrder.calPerDollar, result.calPerDollar)}
                                </div>
                                <div class="alt-stats">
                                    <strong>${balancedOrder.totalCalories.toLocaleString()}</strong> cal ¬∑ 
                                    $${balancedOrder.totalCost.toFixed(2)} ¬∑ 
                                    ${balancedOrder.uniqueItems} different items
                                </div>
                            </div>
                            ${renderItemList(balancedOrder.items)}
                        </div>
                    `;
                }

                alternativesEl.innerHTML = altHtml;

                // Show pro tip about optimal item
                const bestSingle = getBestSingleItem(MENU);
                if (bestSingle.item) {
                    proTipTextEl.innerHTML = `
                        <strong>ü§ì Why always ${bestSingle.item.name}?</strong> 
                        At <strong>${bestSingle.ratio} cal/$</strong>, it's the single most calorie-efficient item on the menu. 
                        The "Pure Optimal" order will always be buying as many as your budget allows. 
                        The variety options above trade a bit of efficiency for a more interesting meal.
                    `;
                }
            }

            resultsDiv.classList.add('visible');
        }

        // Event listeners
        optimizeBtn.addEventListener('click', runOptimizer);
        budgetInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') runOptimizer();
        });

        // Run on load with default value
        runOptimizer();
    </script>
</body>
</html>
